<section style="font-size: 17px;color: black;padding: 0px 10px;line-height: 1.7;word-spacing:0px;letter-spacing: 0.01px;word-break: break-word;overflow-wrap: break-word;text-align: left;font-family:Optima-Regular, Optima, PingFangSC-light, PingFangTC-light, " PingFang SC", Cambria, Cochin, Georgia,Times, "Times New Roman" , serif;"><section><strong><span style="font-size: 17px;"><strong                style="color: rgb(90, 120, 234);font-size: 17px;letter-spacing: normal;text-align: left;">----------------</strong><br /></span></strong><section style="letter-spacing: 0.544px;text-indent: 0em;white-space: normal;background-color: rgb(255, 255, 255);"><strong><span style="font-size: 17px;"></span></strong><span            style="font-size: 17px;color: rgb(255, 64, 129);"><strong>背景</strong></span>    </section><section style="letter-spacing: 0.544px;text-indent: 0em;white-space: normal;background-color: rgb(255, 255, 255);">        <span style="font-size: 17px;color: rgb(255, 64, 129);"><strong><br /></strong></span>    </section></section><p style="font-size: 17px; padding-top: 8px; padding-bottom: 8px; margin: 0; line-height: 26px;">日积月累浏览器中收藏的书签网页越来越多，同时失效的书签也越来越多，如何快速删除无效的书签？一直想写个chrome插件，趁着这个机会，练练手。</p><section><strong><span style="font-size: 17px;"><strong                style="color: rgb(90, 120, 234);font-size: 17px;letter-spacing: normal;text-align: left;">----------------</strong><br /></span></strong><section style="letter-spacing: 0.544px;text-indent: 0em;white-space: normal;background-color: rgb(255, 255, 255);"><strong><span style="font-size: 17px;"></span></strong><span            style="font-size: 17px;color: rgb(255, 64, 129);"><strong>思路</strong></span>    </section><section style="letter-spacing: 0.544px;text-indent: 0em;white-space: normal;background-color: rgb(255, 255, 255);">        <span style="font-size: 17px;color: rgb(255, 64, 129);"><strong><br /></strong></span>    </section></section><p style="font-size: 17px; padding-top: 8px; padding-bottom: 8px; margin: 0; line-height: 26px;">大模型的出现真是大大降低了简单需求实现的成本，本人没有系统学习过js相关知识，平时可以看懂简单的js代码，复杂点的代码需要连蒙带猜才能看懂。</p><p style="font-size: 17px; padding-top: 8px; padding-bottom: 8px; margin: 0; line-height: 26px;">为方便大模型理解，我把自己的需求拆解为3个步骤：</p><ol><li>编写chrome插件读取浏览器书签信息，并展示</li><li>对书签地址进行检测，只展示无法访问的书签信息</li><li>在无法访问的书签信息后面增加删除按钮，点击按钮删除浏览器中对应的无效书签</li></ol><p style="font-size: 17px; padding-top: 8px; padding-bottom: 8px; margin: 0; line-height: 26px;">首先使用的是文心一言的文心快码，给出的代码无法正常运行。换成GPT4o，给出的代码可以直接使用，非常方便，点赞。</p><section><strong><span style="font-size: 17px;"><strong                style="color: rgb(90, 120, 234);font-size: 17px;letter-spacing: normal;text-align: left;">----------------</strong><br /></span></strong><section style="letter-spacing: 0.544px;text-indent: 0em;white-space: normal;background-color: rgb(255, 255, 255);"><strong><span style="font-size: 17px;"></span></strong><span            style="font-size: 17px;color: rgb(255, 64, 129);"><strong>实践</strong></span>    </section><section style="letter-spacing: 0.544px;text-indent: 0em;white-space: normal;background-color: rgb(255, 255, 255);">        <span style="font-size: 17px;color: rgb(255, 64, 129);"><strong><br /></strong></span>    </section></section><section><strong><span style="font-size: 17px;"><strong                style="color: rgb(90, 120, 234);font-size: 17px;letter-spacing: normal;text-align: left;">----------------</strong><br /></span></strong><section style="letter-spacing: 0.544px;text-indent: 0em;white-space: normal;background-color: rgb(255, 255, 255);"><strong><span style="font-size: 17px;"></span></strong><span            style="font-size: 17px;color: rgb(255, 64, 129);"><strong>与大模型沟通</strong></span>    </section><section style="letter-spacing: 0.544px;text-indent: 0em;white-space: normal;background-color: rgb(255, 255, 255);">        <span style="font-size: 17px;color: rgb(255, 64, 129);"><strong><br /></strong></span>    </section></section><p style="font-size: 17px; padding-top: 8px; padding-bottom: 8px; margin: 0; line-height: 26px;">按照步骤输入大模型，获得阶段代码后，验证正确性。确认相关代码无误后开展下一步，一步一步调整后，最终代码实现如下：</p><p style="font-size: 17px; padding-top: 8px; padding-bottom: 8px; margin: 0; line-height: 26px;">manifest.json 内容如下：</p><div class="codehilite" style="background: #f0f0f0"><pre style="line-height: 125%;"><span></span><code style="font-size: 13.6px;padding: 0.2em 0.4em;border-radius: 3px;display: block;overflow: auto;text-wrap: wrap;font-family: mononoki, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Noto Color Emoji&quot;, &quot;Segoe UI Symbol&quot;, &quot;Android Emoji&quot;, EmojiSymbols;background-size: 20px 20px;background-image: none;word-break: break-word;overflow-wrap: normal;background-color: rgba(27, 31, 35, 0.05);max-height: 1000px;color: var(--vscode-editor-foreground) !important;border-color: var(--vscode-quickInputTitle-background) !important;">{<br  \><span style="color: #bbbbbb">  </span><span style="color: #062873; font-weight: bold">&quot;manifest_version&quot;</span>:<span style="color: #bbbbbb"> </span><span style="color: #40a070">3</span>,<br  \><span style="color: #bbbbbb">  </span><span style="color: #062873; font-weight: bold">&quot;name&quot;</span>:<span style="color: #bbbbbb"> </span><span style="color: #4070a0">&quot;Bookmark Viewer&quot;</span>,<br  \><span style="color: #bbbbbb">  </span><span style="color: #062873; font-weight: bold">&quot;version&quot;</span>:<span style="color: #bbbbbb"> </span><span style="color: #4070a0">&quot;1.0&quot;</span>,<br  \><span style="color: #bbbbbb">  </span><span style="color: #062873; font-weight: bold">&quot;description&quot;</span>:<span style="color: #bbbbbb"> </span><span style="color: #4070a0">&quot;清理无效书签的Chrome插件&quot;</span>,<br  \><span style="color: #bbbbbb">  </span><span style="color: #062873; font-weight: bold">&quot;permissions&quot;</span>:<span style="color: #bbbbbb"> </span>[<br  \><span style="color: #bbbbbb">    </span><span style="color: #4070a0">&quot;bookmarks&quot;</span>,<br  \><span style="color: #bbbbbb">    </span><span style="color: #4070a0">&quot;webRequest&quot;</span>,<br  \><span style="color: #bbbbbb">    </span><span style="color: #4070a0">&quot;webRequestBlocking&quot;</span>,<br  \><span style="color: #bbbbbb">    </span><span style="color: #4070a0">&quot;&lt;all_urls&gt;&quot;</span><br  \><span style="color: #bbbbbb">  </span>],<br  \><span style="color: #bbbbbb">  </span><span style="color: #062873; font-weight: bold">&quot;host_permissions&quot;</span>:<span style="color: #bbbbbb"> </span>[<br  \><span style="color: #bbbbbb">    </span><span style="color: #4070a0">&quot;&lt;all_urls&gt;&quot;</span><br  \><span style="color: #bbbbbb">  </span>],<br  \><span style="color: #bbbbbb">  </span><span style="color: #062873; font-weight: bold">&quot;background&quot;</span>:<span style="color: #bbbbbb"> </span>{<br  \><span style="color: #bbbbbb">    </span><span style="color: #062873; font-weight: bold">&quot;service_worker&quot;</span>:<span style="color: #bbbbbb"> </span><span style="color: #4070a0">&quot;background.js&quot;</span><br  \><span style="color: #bbbbbb">  </span>},<br  \><span style="color: #bbbbbb">  </span><span style="color: #062873; font-weight: bold">&quot;action&quot;</span>:<span style="color: #bbbbbb"> </span>{<br  \><span style="color: #bbbbbb">    </span><span style="color: #062873; font-weight: bold">&quot;default_popup&quot;</span>:<span style="color: #bbbbbb"> </span><span style="color: #4070a0">&quot;popup.html&quot;</span>,<br  \><span style="color: #bbbbbb">    </span><span style="color: #062873; font-weight: bold">&quot;default_title&quot;</span>:<span style="color: #bbbbbb"> </span><span style="color: #4070a0">&quot;View Bookmarks&quot;</span>,<br  \><span style="color: #bbbbbb">    </span><span style="color: #062873; font-weight: bold">&quot;default_icon&quot;</span>:<span style="color: #bbbbbb"> </span>{<br  \><span style="color: #bbbbbb">      </span><span style="color: #062873; font-weight: bold">&quot;16&quot;</span>:<span style="color: #bbbbbb"> </span><span style="color: #4070a0">&quot;icons/icon16.png&quot;</span>,<br  \><span style="color: #bbbbbb">      </span><span style="color: #062873; font-weight: bold">&quot;48&quot;</span>:<span style="color: #bbbbbb"> </span><span style="color: #4070a0">&quot;icons/icon48.png&quot;</span>,<br  \><span style="color: #bbbbbb">      </span><span style="color: #062873; font-weight: bold">&quot;128&quot;</span>:<span style="color: #bbbbbb"> </span><span style="color: #4070a0">&quot;icons/icon128.png&quot;</span><br  \><span style="color: #bbbbbb">    </span>}<br  \><span style="color: #bbbbbb">  </span>},<br  \><span style="color: #bbbbbb">  </span><span style="color: #062873; font-weight: bold">&quot;icons&quot;</span>:<span style="color: #bbbbbb"> </span>{<br  \><span style="color: #bbbbbb">    </span><span style="color: #062873; font-weight: bold">&quot;16&quot;</span>:<span style="color: #bbbbbb"> </span><span style="color: #4070a0">&quot;icons/icon16.png&quot;</span>,<br  \><span style="color: #bbbbbb">    </span><span style="color: #062873; font-weight: bold">&quot;48&quot;</span>:<span style="color: #bbbbbb"> </span><span style="color: #4070a0">&quot;icons/icon48.png&quot;</span>,<br  \><span style="color: #bbbbbb">    </span><span style="color: #062873; font-weight: bold">&quot;128&quot;</span>:<span style="color: #bbbbbb"> </span><span style="color: #4070a0">&quot;icons/icon128.png&quot;</span><br  \><span style="color: #bbbbbb">  </span>}<br  \>}<br  \></code></pre></div><p style="font-size: 17px; padding-top: 8px; padding-bottom: 8px; margin: 0; line-height: 26px;">background.js 内容如下：</p><div class="codehilite" style="background: #f0f0f0"><pre style="line-height: 125%;"><span></span><code style="font-size: 13.6px;padding: 0.2em 0.4em;border-radius: 3px;display: block;overflow: auto;text-wrap: wrap;font-family: mononoki, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Noto Color Emoji&quot;, &quot;Segoe UI Symbol&quot;, &quot;Android Emoji&quot;, EmojiSymbols;background-size: 20px 20px;background-image: none;word-break: break-word;overflow-wrap: normal;background-color: rgba(27, 31, 35, 0.05);max-height: 1000px;color: var(--vscode-editor-foreground) !important;border-color: var(--vscode-quickInputTitle-background) !important;"><span style="color: #60a0b0; font-style: italic">// 用于初始化的后台脚本，当前不需要特别功能，可留空</span><br  \>console.log(<span style="color: #4070a0">&quot;Bookmark Viewer Background Script Running.&quot;</span>);<br  \></code></pre></div><p style="font-size: 17px; padding-top: 8px; padding-bottom: 8px; margin: 0; line-height: 26px;">popup.js 内容如下：</p><div class="codehilite" style="background: #f0f0f0"><pre style="line-height: 125%;"><span></span><code style="font-size: 13.6px;padding: 0.2em 0.4em;border-radius: 3px;display: block;overflow: auto;text-wrap: wrap;font-family: mononoki, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Noto Color Emoji&quot;, &quot;Segoe UI Symbol&quot;, &quot;Android Emoji&quot;, EmojiSymbols;background-size: 20px 20px;background-image: none;word-break: break-word;overflow-wrap: normal;background-color: rgba(27, 31, 35, 0.05);max-height: 1000px;color: var(--vscode-editor-foreground) !important;border-color: var(--vscode-quickInputTitle-background) !important;"><span style="color: #007020">document</span>.addEventListener(<span style="color: #4070a0">&#39;DOMContentLoaded&#39;</span>,<span style="color: #bbbbbb"> </span><span style="color: #007020; font-weight: bold">function</span><span style="color: #bbbbbb"> </span>()<span style="color: #bbbbbb"> </span>{<br  \><span style="color: #bbbbbb">  </span><span style="color: #007020; font-weight: bold">const</span><span style="color: #bbbbbb"> </span>bookmarksList<span style="color: #bbbbbb"> </span><span style="color: #666666">=</span><span style="color: #bbbbbb"> </span><span style="color: #007020">document</span>.getElementById(<span style="color: #4070a0">&#39;bookmarks&#39;</span>);<br  \><br  \><span style="color: #bbbbbb">  </span><span style="color: #007020; font-weight: bold">function</span><span style="color: #bbbbbb"> </span>createBookmarkNode(bookmark,<span style="color: #bbbbbb"> </span>isValid)<span style="color: #bbbbbb"> </span>{<br  \><span style="color: #bbbbbb">    </span><span style="color: #007020; font-weight: bold">if</span><span style="color: #bbbbbb"> </span>(<span style="color: #666666">!</span>isValid)<span style="color: #bbbbbb"> </span>{<br  \><span style="color: #bbbbbb">      </span><span style="color: #60a0b0; font-style: italic">// 创建一个列表项和锚点以显示书签信息</span><br  \><span style="color: #bbbbbb">      </span><span style="color: #007020; font-weight: bold">const</span><span style="color: #bbbbbb"> </span>li<span style="color: #bbbbbb"> </span><span style="color: #666666">=</span><span style="color: #bbbbbb"> </span><span style="color: #007020">document</span>.createElement(<span style="color: #4070a0">&#39;li&#39;</span>);<br  \><span style="color: #bbbbbb">      </span><span style="color: #007020; font-weight: bold">const</span><span style="color: #bbbbbb"> </span>anchor<span style="color: #bbbbbb"> </span><span style="color: #666666">=</span><span style="color: #bbbbbb"> </span><span style="color: #007020">document</span>.createElement(<span style="color: #4070a0">&#39;a&#39;</span>);<br  \><span style="color: #bbbbbb">      </span>anchor.href<span style="color: #bbbbbb"> </span><span style="color: #666666">=</span><span style="color: #bbbbbb"> </span>bookmark.url;<br  \><span style="color: #bbbbbb">      </span>anchor.textContent<span style="color: #bbbbbb"> </span><span style="color: #666666">=</span><span style="color: #bbbbbb"> </span><span style="color: #4070a0">`</span><span style="color: #70a0d0; font-style: italic">${</span>bookmark.title<span style="color: #70a0d0; font-style: italic">}</span><span style="color: #4070a0"> (</span><span style="color: #70a0d0; font-style: italic">${</span>bookmark.url<span style="color: #70a0d0; font-style: italic">}</span><span style="color: #4070a0">)`</span>;<br  \><span style="color: #bbbbbb">      </span>anchor.target<span style="color: #bbbbbb"> </span><span style="color: #666666">=</span><span style="color: #bbbbbb"> </span><span style="color: #4070a0">&#39;_blank&#39;</span>;<br  \><span style="color: #bbbbbb">      </span>li.appendChild(anchor);<br  \><br  \><span style="color: #bbbbbb">      </span><span style="color: #60a0b0; font-style: italic">// 创建删除按钮</span><br  \><span style="color: #bbbbbb">      </span><span style="color: #007020; font-weight: bold">const</span><span style="color: #bbbbbb"> </span>deleteBtn<span style="color: #bbbbbb"> </span><span style="color: #666666">=</span><span style="color: #bbbbbb"> </span><span style="color: #007020">document</span>.createElement(<span style="color: #4070a0">&#39;button&#39;</span>);<br  \><span style="color: #bbbbbb">      </span>deleteBtn.textContent<span style="color: #bbbbbb"> </span><span style="color: #666666">=</span><span style="color: #bbbbbb"> </span><span style="color: #4070a0">&#39;Delete&#39;</span>;<br  \><span style="color: #bbbbbb">      </span>deleteBtn.onclick<span style="color: #bbbbbb"> </span><span style="color: #666666">=</span><span style="color: #bbbbbb"> </span>()<span style="color: #bbbbbb"> </span>=&gt;<span style="color: #bbbbbb"> </span>deleteBookmark(bookmark.id,<span style="color: #bbbbbb"> </span>li);<br  \><span style="color: #bbbbbb">      </span>li.appendChild(deleteBtn);<br  \><br  \><span style="color: #bbbbbb">      </span><span style="color: #007020; font-weight: bold">return</span><span style="color: #bbbbbb"> </span>li;<br  \><span style="color: #bbbbbb">    </span>}<br  \><span style="color: #bbbbbb">    </span><span style="color: #007020; font-weight: bold">return</span><span style="color: #bbbbbb"> </span><span style="color: #007020; font-weight: bold">null</span>;<br  \><span style="color: #bbbbbb">  </span>}<br  \><br  \><span style="color: #bbbbbb">  </span><span style="color: #007020; font-weight: bold">function</span><span style="color: #bbbbbb"> </span>deleteBookmark(bookmarkId,<span style="color: #bbbbbb"> </span>li)<span style="color: #bbbbbb"> </span>{<br  \><span style="color: #bbbbbb">    </span><span style="color: #60a0b0; font-style: italic">// 调用 Chrome 的书签 API 删除书签</span><br  \><span style="color: #bbbbbb">    </span>chrome.bookmarks.remove(bookmarkId,<span style="color: #bbbbbb"> </span><span style="color: #007020; font-weight: bold">function</span>()<span style="color: #bbbbbb"> </span>{<br  \><span style="color: #bbbbbb">      </span>bookmarksList.removeChild(li);<br  \><span style="color: #bbbbbb">    </span>});<br  \><span style="color: #bbbbbb">  </span>}<br  \><br  \><span style="color: #bbbbbb">  </span><span style="color: #007020; font-weight: bold">function</span><span style="color: #bbbbbb"> </span>checkBookmarkValidity(url,<span style="color: #bbbbbb"> </span>callback)<span style="color: #bbbbbb"> </span>{<br  \><span style="color: #bbbbbb">    </span>fetch(url,<span style="color: #bbbbbb"> </span>{<span style="color: #bbbbbb"> </span>method<span style="color: #666666">:</span><span style="color: #bbbbbb"> </span><span style="color: #4070a0">&#39;HEAD&#39;</span><span style="color: #bbbbbb"> </span>})<br  \><span style="color: #bbbbbb">      </span>.then(response<span style="color: #bbbbbb"> </span>=&gt;<span style="color: #bbbbbb"> </span>{<br  \><span style="color: #bbbbbb">        </span><span style="color: #007020; font-weight: bold">if</span><span style="color: #bbbbbb"> </span>(response.status<span style="color: #bbbbbb"> </span><span style="color: #666666">==</span><span style="color: #bbbbbb"> </span><span style="color: #40a070">404</span><span style="color: #bbbbbb"> </span><span style="color: #666666">||</span><span style="color: #bbbbbb"> </span>response.status<span style="color: #bbbbbb"> </span><span style="color: #666666">==</span><span style="color: #bbbbbb"> </span><span style="color: #40a070">500</span>)<span style="color: #bbbbbb"> </span>{<br  \><span style="color: #bbbbbb">          </span>callback(<span style="color: #007020; font-weight: bold">false</span>);<br  \><span style="color: #bbbbbb">        </span>}<span style="color: #007020; font-weight: bold">else</span>{<br  \><span style="color: #bbbbbb">          </span>callback(<span style="color: #007020; font-weight: bold">true</span>);<br  \><span style="color: #bbbbbb">        </span>}<br  \><span style="color: #bbbbbb">      </span>})<br  \><span style="color: #bbbbbb">      </span>.<span style="color: #007020; font-weight: bold">catch</span>(()<span style="color: #bbbbbb"> </span>=&gt;<span style="color: #bbbbbb"> </span>{<br  \><span style="color: #bbbbbb">        </span>callback(<span style="color: #007020; font-weight: bold">false</span>);<span style="color: #bbbbbb"> </span><span style="color: #60a0b0; font-style: italic">// 请求失败认为无效</span><br  \><span style="color: #bbbbbb">      </span>});<br  \><span style="color: #bbbbbb">  </span>}<br  \><br  \><span style="color: #bbbbbb">  </span><span style="color: #007020; font-weight: bold">function</span><span style="color: #bbbbbb"> </span>traverseBookmarks(bookmarkTreeNodes,<span style="color: #bbbbbb"> </span>parentElement)<span style="color: #bbbbbb"> </span>{<br  \><span style="color: #bbbbbb">    </span>bookmarkTreeNodes.forEach((bookmark)<span style="color: #bbbbbb"> </span>=&gt;<span style="color: #bbbbbb"> </span>{<br  \><span style="color: #bbbbbb">      </span><span style="color: #007020; font-weight: bold">if</span><span style="color: #bbbbbb"> </span>(bookmark.children)<span style="color: #bbbbbb"> </span>{<br  \><span style="color: #bbbbbb">        </span><span style="color: #60a0b0; font-style: italic">// 创建目录节点</span><br  \><span style="color: #bbbbbb">        </span><span style="color: #007020; font-weight: bold">const</span><span style="color: #bbbbbb"> </span>folderLi<span style="color: #bbbbbb"> </span><span style="color: #666666">=</span><span style="color: #bbbbbb"> </span><span style="color: #007020">document</span>.createElement(<span style="color: #4070a0">&#39;li&#39;</span>);<br  \><span style="color: #bbbbbb">        </span>folderLi.textContent<span style="color: #bbbbbb"> </span><span style="color: #666666">=</span><span style="color: #bbbbbb"> </span>bookmark.title;<br  \><span style="color: #bbbbbb">        </span><span style="color: #007020; font-weight: bold">const</span><span style="color: #bbbbbb"> </span>ul<span style="color: #bbbbbb"> </span><span style="color: #666666">=</span><span style="color: #bbbbbb"> </span><span style="color: #007020">document</span>.createElement(<span style="color: #4070a0">&#39;ul&#39;</span>);<br  \><span style="color: #bbbbbb">        </span>folderLi.appendChild(ul);<br  \><span style="color: #bbbbbb">        </span>parentElement.appendChild(folderLi);<br  \><span style="color: #bbbbbb">        </span><span style="color: #60a0b0; font-style: italic">// 递归遍历子书签</span><br  \><span style="color: #bbbbbb">        </span>traverseBookmarks(bookmark.children,<span style="color: #bbbbbb"> </span>ul);<br  \><span style="color: #bbbbbb">      </span>}<span style="color: #bbbbbb"> </span><span style="color: #007020; font-weight: bold">else</span><span style="color: #bbbbbb"> </span><span style="color: #007020; font-weight: bold">if</span><span style="color: #bbbbbb"> </span>(bookmark.url)<span style="color: #bbbbbb"> </span>{<br  \><span style="color: #bbbbbb">        </span>checkBookmarkValidity(bookmark.url,<span style="color: #bbbbbb"> </span>(isValid)<span style="color: #bbbbbb"> </span>=&gt;<span style="color: #bbbbbb"> </span>{<br  \><span style="color: #bbbbbb">          </span><span style="color: #007020; font-weight: bold">const</span><span style="color: #bbbbbb"> </span>bookmarkNode<span style="color: #bbbbbb"> </span><span style="color: #666666">=</span><span style="color: #bbbbbb"> </span>createBookmarkNode(bookmark,<span style="color: #bbbbbb"> </span>isValid);<br  \><span style="color: #bbbbbb">          </span><span style="color: #007020; font-weight: bold">if</span><span style="color: #bbbbbb"> </span>(bookmarkNode)<span style="color: #bbbbbb"> </span>{<br  \><span style="color: #bbbbbb">            </span>parentElement.appendChild(bookmarkNode);<br  \><span style="color: #bbbbbb">          </span>}<br  \><span style="color: #bbbbbb">        </span>});<br  \><span style="color: #bbbbbb">      </span>}<br  \><span style="color: #bbbbbb">    </span>});<br  \><span style="color: #bbbbbb">  </span>}<br  \><br  \><span style="color: #bbbbbb">  </span>chrome.bookmarks.getTree(<span style="color: #007020; font-weight: bold">function</span>(bookmarkTreeNodes)<span style="color: #bbbbbb"> </span>{<br  \><span style="color: #bbbbbb">    </span>traverseBookmarks(bookmarkTreeNodes,<span style="color: #bbbbbb"> </span>bookmarksList);<br  \><span style="color: #bbbbbb">  </span>});<br  \>});<br  \></code></pre></div><p style="font-size: 17px; padding-top: 8px; padding-bottom: 8px; margin: 0; line-height: 26px;">popup.html 内容如下：</p><div class="codehilite" style="background: #f0f0f0"><pre style="line-height: 125%;"><span></span><code style="font-size: 13.6px;padding: 0.2em 0.4em;border-radius: 3px;display: block;overflow: auto;text-wrap: wrap;font-family: mononoki, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Noto Color Emoji&quot;, &quot;Segoe UI Symbol&quot;, &quot;Android Emoji&quot;, EmojiSymbols;background-size: 20px 20px;background-image: none;word-break: break-word;overflow-wrap: normal;background-color: rgba(27, 31, 35, 0.05);max-height: 1000px;color: var(--vscode-editor-foreground) !important;border-color: var(--vscode-quickInputTitle-background) !important;"><span style="color: #007020">&lt;!DOCTYPE html&gt;</span><br  \>&lt;<span style="color: #062873; font-weight: bold">html</span>&gt;<br  \>&lt;<span style="color: #062873; font-weight: bold">head</span>&gt;<br  \>  &lt;<span style="color: #062873; font-weight: bold">title</span>&gt;Invalid Bookmarks&lt;/<span style="color: #062873; font-weight: bold">title</span>&gt;<br  \>  &lt;<span style="color: #062873; font-weight: bold">style</span>&gt;<br  \><span style="color: #bbbbbb">    </span><span style="color: #062873; font-weight: bold">ul</span><span style="color: #bbbbbb"> </span>{<span style="color: #bbbbbb"> </span><span style="color: #007020; font-weight: bold">list-style-type</span>:<span style="color: #bbbbbb"> </span><span style="color: #007020; font-weight: bold">none</span>;<span style="color: #bbbbbb"> </span>}<br  \><span style="color: #bbbbbb">    </span><span style="color: #062873; font-weight: bold">li</span><span style="color: #bbbbbb"> </span>{<span style="color: #bbbbbb"> </span><span style="color: #007020; font-weight: bold">margin</span>:<span style="color: #bbbbbb"> </span><span style="color: #40a070">5</span><span style="color: #902000">px</span><span style="color: #bbbbbb"> </span><span style="color: #40a070">0</span>;<span style="color: #bbbbbb"> </span>}<br  \><span style="color: #bbbbbb">    </span><span style="color: #062873; font-weight: bold">button</span><span style="color: #bbbbbb"> </span>{<span style="color: #bbbbbb"> </span><span style="color: #007020; font-weight: bold">margin-left</span>:<span style="color: #bbbbbb"> </span><span style="color: #40a070">10</span><span style="color: #902000">px</span>;<span style="color: #bbbbbb"> </span>}<br  \><span style="color: #bbbbbb">  </span>&lt;/<span style="color: #062873; font-weight: bold">style</span>&gt;<br  \>&lt;/<span style="color: #062873; font-weight: bold">head</span>&gt;<br  \>&lt;<span style="color: #062873; font-weight: bold">body</span>&gt;<br  \>  &lt;<span style="color: #062873; font-weight: bold">h1</span>&gt;Invalid Bookmarks&lt;/<span style="color: #062873; font-weight: bold">h1</span>&gt;<br  \>  &lt;<span style="color: #062873; font-weight: bold">ul</span> <span style="color: #4070a0">id</span><span style="color: #666666">=</span><span style="color: #4070a0">&quot;bookmarks&quot;</span>&gt;&lt;/<span style="color: #062873; font-weight: bold">ul</span>&gt;<br  \>  &lt;<span style="color: #062873; font-weight: bold">script</span> <span style="color: #4070a0">src</span><span style="color: #666666">=</span><span style="color: #4070a0">&quot;popup.js&quot;</span>&gt;&lt;/<span style="color: #062873; font-weight: bold">script</span>&gt;<br  \>&lt;/<span style="color: #062873; font-weight: bold">body</span>&gt;<br  \>&lt;/<span style="color: #062873; font-weight: bold">html</span>&gt;<br  \></code></pre></div><p style="font-size: 17px; padding-top: 8px; padding-bottom: 8px; margin: 0; line-height: 26px;">popup.css 内容如下：</p><div class="codehilite" style="background: #f0f0f0"><pre style="line-height: 125%;"><span></span><code style="font-size: 13.6px;padding: 0.2em 0.4em;border-radius: 3px;display: block;overflow: auto;text-wrap: wrap;font-family: mononoki, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Noto Color Emoji&quot;, &quot;Segoe UI Symbol&quot;, &quot;Android Emoji&quot;, EmojiSymbols;background-size: 20px 20px;background-image: none;word-break: break-word;overflow-wrap: normal;background-color: rgba(27, 31, 35, 0.05);max-height: 1000px;color: var(--vscode-editor-foreground) !important;border-color: var(--vscode-quickInputTitle-background) !important;"><span style="color: #062873; font-weight: bold">body</span><span style="color: #bbbbbb"> </span>{<br  \><span style="color: #bbbbbb">    </span><span style="color: #007020; font-weight: bold">width</span>:<span style="color: #bbbbbb"> </span><span style="color: #40a070">300</span><span style="color: #902000">px</span>;<br  \><span style="color: #bbbbbb">    </span><span style="color: #007020; font-weight: bold">font-family</span>:<span style="color: #bbbbbb"> </span>Arial,<span style="color: #bbbbbb"> </span><span style="color: #007020; font-weight: bold">sans-serif</span>;<br  \><span style="color: #bbbbbb">  </span>}<br  \><span style="color: #bbbbbb">  </span><span style="color: #062873; font-weight: bold">ul</span><span style="color: #bbbbbb"> </span>{<br  \><span style="color: #bbbbbb">    </span><span style="color: #007020; font-weight: bold">list-style-type</span>:<span style="color: #bbbbbb"> </span><span style="color: #007020; font-weight: bold">none</span>;<br  \><span style="color: #bbbbbb">    </span><span style="color: #007020; font-weight: bold">padding</span>:<span style="color: #bbbbbb"> </span><span style="color: #40a070">0</span>;<br  \><span style="color: #bbbbbb">  </span>}<br  \><span style="color: #bbbbbb">  </span><span style="color: #062873; font-weight: bold">li</span><span style="color: #bbbbbb"> </span>{<br  \><span style="color: #bbbbbb">    </span><span style="color: #007020; font-weight: bold">margin</span>:<span style="color: #bbbbbb"> </span><span style="color: #40a070">5</span><span style="color: #902000">px</span><span style="color: #bbbbbb"> </span><span style="color: #40a070">0</span>;<br  \><span style="color: #bbbbbb">  </span>}<br  \><span style="color: #bbbbbb">  </span><span style="color: #062873; font-weight: bold">a</span><span style="color: #bbbbbb"> </span>{<br  \><span style="color: #bbbbbb">    </span><span style="color: #007020; font-weight: bold">text-decoration</span>:<span style="color: #bbbbbb"> </span><span style="color: #007020; font-weight: bold">none</span>;<br  \><span style="color: #bbbbbb">    </span><span style="color: #007020; font-weight: bold">color</span>:<span style="color: #bbbbbb"> </span><span style="color: #007020; font-weight: bold">blue</span>;<br  \><span style="color: #bbbbbb">  </span>}<br  \><span style="color: #bbbbbb">  </span><span style="color: #062873; font-weight: bold">a</span>:<span style="color: #555555; font-weight: bold">hover</span><span style="color: #bbbbbb"> </span>{<br  \><span style="color: #bbbbbb">    </span><span style="color: #007020; font-weight: bold">text-decoration</span>:<span style="color: #bbbbbb"> </span><span style="color: #007020; font-weight: bold">underline</span>;<br  \><span style="color: #bbbbbb">  </span>}<br  \></code></pre></div><section><strong><span style="font-size: 17px;"><strong                style="color: rgb(90, 120, 234);font-size: 17px;letter-spacing: normal;text-align: left;">----------------</strong><br /></span></strong><section style="letter-spacing: 0.544px;text-indent: 0em;white-space: normal;background-color: rgb(255, 255, 255);"><strong><span style="font-size: 17px;"></span></strong><span            style="font-size: 17px;color: rgb(255, 64, 129);"><strong>安装扩展</strong></span>    </section><section style="letter-spacing: 0.544px;text-indent: 0em;white-space: normal;background-color: rgb(255, 255, 255);">        <span style="font-size: 17px;color: rgb(255, 64, 129);"><strong><br /></strong></span>    </section></section><p style="font-size: 17px; padding-top: 8px; padding-bottom: 8px; margin: 0; line-height: 26px;">相关代码按照目录结构放在文件中，然后在chrome浏览器-&gt;设置-&gt;扩展程序-&gt;管理扩展程序-&gt;加载已解压的扩展程序，加载该目录即可安装插件。</p><p style="font-size: 17px; padding-top: 8px; padding-bottom: 8px; margin: 0; line-height: 26px;">目录结构：<img src="http://mmbiz.qpic.cn/sz_mmbiz_png/OgfYcNkiaWTciaGXWB5KK1p5icJCoQ6l3Zu6To9ug12hnjAbZSqOcXeQuWibPiau4tm04rNvjRQ4jMBe2WhxcXLhejA/0?wx_fmt=png" alt="http://mmbiz.qpic.cn/sz_mmbiz_png/OgfYcNkiaWTciaGXWB5KK1p5icJCoQ6l3Zu6To9ug12hnjAbZSqOcXeQuWibPiau4tm04rNvjRQ4jMBe2WhxcXLhejA/0?wx_fmt=png" title="tree"/></p><section><strong><span style="font-size: 17px;"><strong                style="color: rgb(90, 120, 234);font-size: 17px;letter-spacing: normal;text-align: left;">----------------</strong><br /></span></strong><section style="letter-spacing: 0.544px;text-indent: 0em;white-space: normal;background-color: rgb(255, 255, 255);"><strong><span style="font-size: 17px;"></span></strong><span            style="font-size: 17px;color: rgb(255, 64, 129);"><strong>调试扩展</strong></span>    </section><section style="letter-spacing: 0.544px;text-indent: 0em;white-space: normal;background-color: rgb(255, 255, 255);">        <span style="font-size: 17px;color: rgb(255, 64, 129);"><strong><br /></strong></span>    </section></section><p style="font-size: 17px; padding-top: 8px; padding-bottom: 8px; margin: 0; line-height: 26px;"><img src="http://mmbiz.qpic.cn/sz_mmbiz_png/OgfYcNkiaWTciaGXWB5KK1p5icJCoQ6l3ZuhjaXNuLOISx6zuBxwfkg7pflxFzMzKpgK9aMwNRwDibYlpyRsGca5kg/0?wx_fmt=png" alt="http://mmbiz.qpic.cn/sz_mmbiz_png/OgfYcNkiaWTciaGXWB5KK1p5icJCoQ6l3ZuhjaXNuLOISx6zuBxwfkg7pflxFzMzKpgK9aMwNRwDibYlpyRsGca5kg/0?wx_fmt=png" title="tree"/></p><p style="font-size: 17px; padding-top: 8px; padding-bottom: 8px; margin: 0; line-height: 26px;">插件点右键-&gt;审查弹出内容</p><ol><li>console，即可看到日志输出</li><li>Sources, 增加断点，调试js代码</li></ol><p style="font-size: 17px; padding-top: 8px; padding-bottom: 8px; margin: 0; line-height: 26px;"><span style="font-size: 15px; letter-spacing: 1px;">完整代码地址</span><sup class="footnote-ref" style="line-height: 0; color: #1e6bb8; font-weight: bold;">[1]</sup></p><section><strong><span style="font-size: 17px;"><strong                style="color: rgb(90, 120, 234);font-size: 17px;letter-spacing: normal;text-align: left;">----------------</strong><br /></span></strong><section style="letter-spacing: 0.544px;text-indent: 0em;white-space: normal;background-color: rgb(255, 255, 255);"><strong><span style="font-size: 17px;"></span></strong><span            style="font-size: 17px;color: rgb(255, 64, 129);"><strong>其他</strong></span>    </section><section style="letter-spacing: 0.544px;text-indent: 0em;white-space: normal;background-color: rgb(255, 255, 255);">        <span style="font-size: 17px;color: rgb(255, 64, 129);"><strong><br /></strong></span>    </section></section><p style="font-size: 17px; padding-top: 8px; padding-bottom: 8px; margin: 0; line-height: 26px;">本打算将插件上传chrome官方商店，但是注册开发者账号需要5美金，所以放弃了。需要的可以从github下载，本地安装使用。</p><h3 style="margin-top: 30px; margin-bottom: 15px; padding: 0px; font-weight: bold; color: black; font-size: 20px;">        <span class="prefix" style="display: none;"></span><span class="content">参考资料</span><span                class="suffix"></span></h3><span id="fn1" class="footnote-item" style="display: flex; flex-direction :column"><div style="display: flex;"><span class="footnote-num" style="display: inline; width: 2%; background: none; font-size: 80%; opacity: 0.6; line-height: 26px; font-family: ptima-Regular, Optima, PingFangSC-light, PingFangTC-light, 'PingFang SC', Cambria, Cochin, Georgia, Times, 'Times New Roman', serif;">[1] </span><p style="padding-top: 8px; padding-bottom: 8px; display: inline; font-size: 14px; width: 90%; padding: 0px; margin: 0; line-height: 26px; color: black; word-break: break-all; width: calc(100%-50);">&nbsp完整代码地址: <em style="font-style: italic; color: black;">https://github.com/xiaoshame/script/tree/main/url_check</em></p></div></span><p>文章不定期修改，因公众号无法同步修改，查看最新内容点击左下角“阅读原文”<p></section>