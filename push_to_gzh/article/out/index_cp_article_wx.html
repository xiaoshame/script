<section style="font-size: 17px;color: black;padding: 0px 10px;line-height: 1.7;word-spacing:0px;letter-spacing: 0.01px;word-break: break-word;overflow-wrap: break-word;text-align: left;font-family:Optima-Regular, Optima, PingFangSC-light, PingFangTC-light, " PingFang SC", Cambria, Cochin, Georgia,Times, "Times New Roman" , serif;"><p style="font-size: 17px; padding-top: 8px; padding-bottom: 8px; margin: 0; line-height: 26px;">之前使用他人提供的<span style="font-size: 15px; letter-spacing: 1px;">FreshRSS</span><sup class="footnote-ref" style="line-height: 0; color: #1e6bb8; font-weight: bold;">[1]</sup>服务，因为网站证书过期导致使用不便。有一台可以使用的服务器，就考虑自建FreshRSS服务。同时日常使用官方<span style="font-size: 15px; letter-spacing: 1px;">RSSHub</span><sup class="footnote-ref" style="line-height: 0; color: #1e6bb8; font-weight: bold;">[2]</sup>服务过程中，订阅源非常不稳定，经常不可用。发现vercel可以部署RSSHub，完成相应部署后，整体使用感受大幅提升，记录下过程，方便以后使用。 </p><section><section style="margin-top: 10px; margin-bottom: 10px; text-align: center;"><section style="display: inline-block; vertical-align: top;"><section                    style="margin-bottom: -6px; line-height: 1em; padding-left: 2px; padding-right: 2px; font-size: 18px; color: rgb(72, 64, 64);">                <p><strong>FreshRSS dockercompose 部署</strong></p>            </section><section style="width: 100%; height: 10px; background-color: rgb(255, 202, 0);">                <br/>            </section>        </section>    </section></section><ol><li>自备一个服务器</li><li>安装docker 和 docker-compose, 配置docker-compose.yml</li><li>启动指令docker-compose up -d</li><li>配置caddy配置文件caddyfile,方便使用域名访问</li><li>通过域名访问freshRSS,创建管理员账户和配置数据库<ol><li>数据库信息对应Docker Compose 配置文件中的 POSTGRES_USER、POSTGRES_PASSWORD、POSTGRES_DB、表前缀任意填</li><li>主机名要稍微注意一下，要用容器的 IP(docker inspect <container id>)</li></ol></li><li>手机上使用Reeder登录FreshRSS<ol><li>freshRSS 设置-&gt;认证-&gt;允许API访问</li><li>freshRSS 设置-&gt;账户-&gt;API管理-&gt;设置AIP密码</li><li>Reeder中使用API管理下的地址+用户名+API密码进行登录</li></ol></li><li><span style="font-size: 15px; letter-spacing: 1px;">Freshrss参考文档</span><sup class="footnote-ref" style="line-height: 0; color: #1e6bb8; font-weight: bold;">[3]</sup></li></ol><div class="codehilite" style="background: #f0f0f0"><pre style="line-height: 125%;"><span></span><code style="font-size: 13.6px;padding: 0.2em 0.4em;border-radius: 3px;display: block;overflow: auto;text-wrap: wrap;font-family: mononoki, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Noto Color Emoji&quot;, &quot;Segoe UI Symbol&quot;, &quot;Android Emoji&quot;, EmojiSymbols;background-size: 20px 20px;background-image: none;word-break: break-word;overflow-wrap: normal;background-color: rgba(27, 31, 35, 0.05);max-height: 1000px;color: var(--vscode-editor-foreground) !important;border-color: var(--vscode-quickInputTitle-background) !important;"><span style="color: #062873; font-weight: bold">version</span>:<span style="color: #bbbbbb"> </span><span style="color: #4070a0">&quot;3&quot;</span><br  \><br  \><span style="color: #062873; font-weight: bold">services</span>:<br  \><span style="color: #bbbbbb">  </span><span style="color: #062873; font-weight: bold">freshrss-db</span>:<br  \><span style="color: #bbbbbb">    </span><span style="color: #062873; font-weight: bold">image</span>:<span style="color: #bbbbbb"> </span>postgres:latest<br  \><span style="color: #bbbbbb">    </span><span style="color: #062873; font-weight: bold">container_name</span>:<span style="color: #bbbbbb"> </span>freshrss-db<br  \><span style="color: #bbbbbb">    </span><span style="color: #062873; font-weight: bold">hostname</span>:<span style="color: #bbbbbb"> </span>freshrss-db<br  \><span style="color: #bbbbbb">    </span><span style="color: #062873; font-weight: bold">restart</span>:<span style="color: #bbbbbb"> </span>unless-stopped<br  \><span style="color: #bbbbbb">    </span><span style="color: #062873; font-weight: bold">volumes</span>:<br  \><span style="color: #bbbbbb">      </span>-<span style="color: #bbbbbb"> </span>freshrss-db:/var/lib/postgresql/data<br  \><span style="color: #bbbbbb">    </span><span style="color: #062873; font-weight: bold">environment</span>:<br  \><span style="color: #bbbbbb">      </span><span style="color: #062873; font-weight: bold">POSTGRES_USER</span>:<span style="color: #bbbbbb"> </span>freshrss<br  \><span style="color: #bbbbbb">      </span><span style="color: #062873; font-weight: bold">POSTGRES_PASSWORD</span>:<span style="color: #bbbbbb"> </span>freshrss<br  \><span style="color: #bbbbbb">      </span><span style="color: #062873; font-weight: bold">POSTGRES_DB</span>:<span style="color: #bbbbbb"> </span>freshrss<br  \><br  \><span style="color: #bbbbbb">  </span><span style="color: #062873; font-weight: bold">freshrss-app</span>:<br  \><span style="color: #bbbbbb">    </span><span style="color: #062873; font-weight: bold">image</span>:<span style="color: #bbbbbb"> </span>freshrss/freshrss:latest<br  \><span style="color: #bbbbbb">    </span><span style="color: #062873; font-weight: bold">container_name</span>:<span style="color: #bbbbbb"> </span>freshrss-app<br  \><span style="color: #bbbbbb">    </span><span style="color: #062873; font-weight: bold">hostname</span>:<span style="color: #bbbbbb"> </span>freshrss-app<br  \><span style="color: #bbbbbb">    </span><span style="color: #062873; font-weight: bold">restart</span>:<span style="color: #bbbbbb"> </span>unless-stopped<br  \><span style="color: #bbbbbb">    </span><span style="color: #062873; font-weight: bold">ports</span>:<br  \><span style="color: #bbbbbb">      </span>-<span style="color: #bbbbbb"> </span><span style="color: #4070a0">&quot;7080:80&quot;</span><br  \><span style="color: #bbbbbb">    </span><span style="color: #062873; font-weight: bold">depends_on</span>:<br  \><span style="color: #bbbbbb">      </span>-<span style="color: #bbbbbb"> </span>freshrss-db<br  \><span style="color: #bbbbbb">    </span><span style="color: #062873; font-weight: bold">volumes</span>:<br  \><span style="color: #bbbbbb">      </span>-<span style="color: #bbbbbb"> </span>./data:/var/www/FreshRSS/data<br  \><span style="color: #bbbbbb">      </span>-<span style="color: #bbbbbb"> </span>./extensions:/var/www/FreshRSS/extensions<br  \><span style="color: #bbbbbb">    </span><span style="color: #062873; font-weight: bold">environment</span>:<br  \><span style="color: #bbbbbb">      </span><span style="color: #062873; font-weight: bold">CRON_MIN</span>:<span style="color: #bbbbbb"> </span><span style="color: #4070a0">&#39;*/45&#39;</span><br  \><span style="color: #bbbbbb">      </span><span style="color: #062873; font-weight: bold">TZ</span>:<span style="color: #bbbbbb"> </span>Asia/Shanghai<br  \><br  \><span style="color: #062873; font-weight: bold">volumes</span>:<br  \><span style="color: #bbbbbb">  </span><span style="color: #062873; font-weight: bold">freshrss-db</span>:<br  \></code></pre></div><section><section style="margin-top: 10px; margin-bottom: 10px; text-align: center;"><section style="display: inline-block; vertical-align: top;"><section                    style="margin-bottom: -6px; line-height: 1em; padding-left: 2px; padding-right: 2px; font-size: 18px; color: rgb(72, 64, 64);">                <p><strong>Vercel RSSHub 部署</strong></p>            </section><section style="width: 100%; height: 10px; background-color: rgb(255, 202, 0);">                <br/>            </section>        </section>    </section></section><ol><li>因为vercel nodejs 最高版本只能选择 20.x，导致无法使用RSSHub master分支部署，使用legacy 分支进行部署,操作流程见参考文档</li><li>legacy 相比master分支缺少很多路由，需要自己按需添加路由<ol><li>在master分支找到缺少的路由，复制到legacy分支，修改文件名尾缀ts为js,参考其他路由调整代码格式</li><li>在\RSSHub\lib\router.js中添加新增的路由地址</li><li>如果需要使用环境变量，在\RSSHub\lib\config.js中添加，并在vercel 对应的项目-&gt;设置-&gt;Environment Variables添加相同环境变量</li></ol></li><li>使用vercel 部署的好处有<ol><li>国内外网站的信息都可以直接抓取</li><li>无需服务器可以免费使用</li></ol></li><li><span style="font-size: 15px; letter-spacing: 1px;">vercel rsshub部署参考文档</span><sup class="footnote-ref" style="line-height: 0; color: #1e6bb8; font-weight: bold;">[4]</sup></li></ol><section><section style="margin-top: 10px; margin-bottom: 10px; text-align: center;"><section style="display: inline-block; vertical-align: top;"><section                    style="margin-bottom: -6px; line-height: 1em; padding-left: 2px; padding-right: 2px; font-size: 18px; color: rgb(72, 64, 64);">                <p><strong>其他</strong></p>            </section><section style="width: 100%; height: 10px; background-color: rgb(255, 202, 0);">                <br/>            </section>        </section>    </section></section><ol><li><span style="font-size: 15px; letter-spacing: 1px;">caddy的安装参考文档</span><sup class="footnote-ref" style="line-height: 0; color: #1e6bb8; font-weight: bold;">[5]</sup></li><li><span style="font-size: 15px; letter-spacing: 1px;">永久免费域名PP.UA最新注册指南</span><sup class="footnote-ref" style="line-height: 0; color: #1e6bb8; font-weight: bold;">[6]</sup></li></ol><h3 style="margin-top: 30px; margin-bottom: 15px; padding: 0px; font-weight: bold; color: black; font-size: 20px;">        <span class="prefix" style="display: none;"></span><span class="content">参考资料</span><span                class="suffix"></span></h3><span id="fn1" class="footnote-item" style="display: flex; flex-direction :column"><div style="display: flex;"><span class="footnote-num" style="display: inline; width: 2%; background: none; font-size: 80%; opacity: 0.6; line-height: 26px; font-family: ptima-Regular, Optima, PingFangSC-light, PingFangTC-light, 'PingFang SC', Cambria, Cochin, Georgia, Times, 'Times New Roman', serif;">[1] </span><p style="padding-top: 8px; padding-bottom: 8px; display: inline; font-size: 14px; width: 90%; padding: 0px; margin: 0; line-height: 26px; color: black; word-break: break-all; width: calc(100%-50);">&nbspFreshRSS: <em style="font-style: italic; color: black;">https://github.com/FreshRSS/FreshRSS</em></p></div><div style="display: flex;"><span class="footnote-num" style="display: inline; width: 2%; background: none; font-size: 80%; opacity: 0.6; line-height: 26px; font-family: ptima-Regular, Optima, PingFangSC-light, PingFangTC-light, 'PingFang SC', Cambria, Cochin, Georgia, Times, 'Times New Roman', serif;">[2] </span><p style="padding-top: 8px; padding-bottom: 8px; display: inline; font-size: 14px; width: 90%; padding: 0px; margin: 0; line-height: 26px; color: black; word-break: break-all; width: calc(100%-50);">&nbspRSSHub: <em style="font-style: italic; color: black;">https://github.com/DIYgod/RSSHub</em></p></div><div style="display: flex;"><span class="footnote-num" style="display: inline; width: 2%; background: none; font-size: 80%; opacity: 0.6; line-height: 26px; font-family: ptima-Regular, Optima, PingFangSC-light, PingFangTC-light, 'PingFang SC', Cambria, Cochin, Georgia, Times, 'Times New Roman', serif;">[3] </span><p style="padding-top: 8px; padding-bottom: 8px; display: inline; font-size: 14px; width: 90%; padding: 0px; margin: 0; line-height: 26px; color: black; word-break: break-all; width: calc(100%-50);">&nbspFreshrss参考文档: <em style="font-style: italic; color: black;">https://blog.ichr.me/post/docker-freshrss-setup/</em></p></div><div style="display: flex;"><span class="footnote-num" style="display: inline; width: 2%; background: none; font-size: 80%; opacity: 0.6; line-height: 26px; font-family: ptima-Regular, Optima, PingFangSC-light, PingFangTC-light, 'PingFang SC', Cambria, Cochin, Georgia, Times, 'Times New Roman', serif;">[4] </span><p style="padding-top: 8px; padding-bottom: 8px; display: inline; font-size: 14px; width: 90%; padding: 0px; margin: 0; line-height: 26px; color: black; word-break: break-all; width: calc(100%-50);">&nbspvercel rsshub部署参考文档: <em style="font-style: italic; color: black;">https://cloud.tencent.com/developer/article/2432561</em></p></div><div style="display: flex;"><span class="footnote-num" style="display: inline; width: 2%; background: none; font-size: 80%; opacity: 0.6; line-height: 26px; font-family: ptima-Regular, Optima, PingFangSC-light, PingFangTC-light, 'PingFang SC', Cambria, Cochin, Georgia, Times, 'Times New Roman', serif;">[5] </span><p style="padding-top: 8px; padding-bottom: 8px; display: inline; font-size: 14px; width: 90%; padding: 0px; margin: 0; line-height: 26px; color: black; word-break: break-all; width: calc(100%-50);">&nbspcaddy的安装参考文档: <em style="font-style: italic; color: black;">https://xiaoshame.github.io/posts/ios_download/</em></p></div><div style="display: flex;"><span class="footnote-num" style="display: inline; width: 2%; background: none; font-size: 80%; opacity: 0.6; line-height: 26px; font-family: ptima-Regular, Optima, PingFangSC-light, PingFangTC-light, 'PingFang SC', Cambria, Cochin, Georgia, Times, 'Times New Roman', serif;">[6] </span><p style="padding-top: 8px; padding-bottom: 8px; display: inline; font-size: 14px; width: 90%; padding: 0px; margin: 0; line-height: 26px; color: black; word-break: break-all; width: calc(100%-50);">&nbsp永久免费域名PP.UA最新注册指南: <em style="font-style: italic; color: black;">https://zhuanlan.zhihu.com/p/630011467</em></p></div></span><p>文章不定期修改，因公众号无法同步修改，查看最新内容点击左下角“阅读原文”<p></section>